
{% load static %}
{% load humanize %}
{% load filters %}



<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="{% static 'reparado/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="{% static 'reparado/css/estilos.css' %}" />
    
    <link href="{% static 'reparado/css/datatables.min.css' %}" rel="stylesheet" />
    <title>ReparaDo! - {% block titulo %}{% endblock %}</title>
</head>
<div class="hero_area">
   

    <header class="header_section" style="background-color: #d1e3ff">
        
        {% if messages %} {% for message in messages %}
        <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %} {% endif %}
        <div class="header_top">
            <div class="container-fluid">
                <div class="contact_nav">
                    <a href="">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                        <span>
                            Llamanos : +57 3034569999
                        </span>
                    </a>
                    <a href="">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                        <span>
                            Email : reparado@gmail.com
                        </span>
                    </a>
                </div>
            </div>
        </div>
        <div class="header_bottom" style="background-color: #d1e3ff">
            <div class="container-fluid">
                <nav class="navbar navbar-expand-lg custom_nav-container" style="background-color: #d1e3ff">
                    <a class="navbar-brand" href="{% url 'index' %}">
                        <span>
                            Reparado
                        </span>
                    </a>

                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class=""> </span>
                    </button>
             
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        
                        <ul class="navbar-nav me-auto">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Solicitudes</a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="{% url 'solicitudes' %}">Visualizar Solicitudes</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="{% url 'servicios' %}">Realizar nueva solicitud</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Facturas</a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="{% url 'detalle_compras' %}">Compras realizadas</a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="{% url 'categorias' %}">Visualización de Categorías</a>
                                    </li>
                                </ul>
                            </li>
                        
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'nuestros_servicios' %}">Servicios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'contactanos' %}">Contactanos</a>
                            </li>
                        </ul>
                        <ul class="d-flex navbar-nav">
                            <li class="nav-item">
                                <div>
                                    <a onclick="offcanvas(`{% url 'visualizar_perfil' request.session.logueo.id %}`)"
                                        class="nav-link position-relative" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                                        <i class="bi bi-person"></i>
                                        <span class="position-relative">{{ request.session.logueo.username }}</span>
                                    </a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div>
                                    <a onclick="offcanvas(`{% url 'ver_carrito' %}`)" class="nav-link position-relative"
                                        data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
                                        aria-controls="offcanvasRight">
                                        <i class="bi bi-cart4"></i>
                                        <span
                                            class="position-relative top-0 start-75 translate-middle badge rounded-pill bg-danger"
                                            style="margin-left: 0.5rem;">{{ request.session.items_carrito|default:0}}
                                        </span>
                                    </a>
                                </div>
                            </li>
                        </ul>
            
                       
                      
           
                    </div>
                </nav>
            </div>
        </div>
    </header>


   
</div>

<section class="slider_section " style="background-color: #d1e3ff">
    <div class="container ">
        <div class="row">
            <div class="col-md-6 ">
                <div class="detail-box">

                   
                    <h1>
                        Reparación y <br>
                        Servicios de Mantenimiento <br>

                    </h1>

                 
             
                 
                    <p>
                        ¡En Reparado nos especializamos en el mantenimiento y reparación de tu hogar en Medellín!
                        Nuestro equipo de expertos está listo para resolver cualquier inconveniente y asegurar que
                        tu casa esté siempre en óptimas condiciones. Contáctanos hoy mismo y disfruta de un servicio
                        rápido y eficiente. ¡Tu tranquilidad está a solo una llamada de distancia!
                    </p>
                    <a href="https://wa.me/573016807257">
                        Contactanos
                    </a>
                   
                </div>
            </div>
            <div class="col-md-6">
                <div class="img-box">
                    <img src="{% static 'reparado/img/tecnico.png' %}" alt="">
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container-fluid fact bg-dark my-5 py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.1s">
                <i class="fa fa-check fa-2x text-white mb-3"></i>
                <h2 class="text-white mb-2" data-toggle="counter-up">10</h2>
                <p class="text-white mb-0">Años de Experiencia</p>
            </div>
            <div class="col-md-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.3s">
                <i class="fa fa-users-cog fa-2x text-white mb-3"></i>
                <h2 class="text-white mb-2" data-toggle="counter-up">4</h2>
                <p class="text-white mb-0">Técnicos Expertos</p>
            </div>
            <div class="col-md-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.5s">
                <i class="fa fa-users fa-2x text-white mb-3"></i>
                <h2 class="text-white mb-2" data-toggle="counter-up">500</h2>
                <p class="text-white mb-0">Clientes Satisfechos</p>
            </div>
            <div class="col-md-6 col-lg-3 text-center wow fadeIn" data-wow-delay="0.7s">
                <i class="fa fa-wrench fa-2x text-white mb-3"></i>
                <h2 class="text-white mb-2" data-toggle="counter-up">800</h2>
                <p class="text-white mb-0">Proyectos Completados</p>
            </div>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="row">
        <!-- Aside para categorías -->
        <aside class="col-md-3">
            <h4 class="mb-3">Categorías</h4>
            <ul class="list-group mb-3">
                {% for categoria in categorias %}
                <li class="list-group-item {% if request.GET.categoria == categoria.id|stringformat:"s" %}active{% endif %}">
                    <a href="?categoria={{ categoria.id }}" class="text-decoration-none {% if request.GET.categoria == categoria.id|stringformat:"s" %}text-white{% else %}text-dark{% endif %}">
                        {{ categoria.nombre_cat }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            <!-- Botón para limpiar el filtro -->
            <a href="{% url 'servicios' %}" class="btn btn-secondary w-100">
                Limpiar filtro
            </a>
        </aside>

        <!-- Sección principal de servicios -->
        <section class="col-md-9">
            <!-- Indicador del filtro activo -->
            {% if request.GET.categoria %}
            <div class="alert alert-info">
                Mostrando servicios para la categoría: <strong>{{ categorias|get_categoria_by_id:request.GET.categoria }}</strong>
            </div>
            {% endif %}

            <!-- Filtro de ordenación -->
            <div class="d-flex justify-content-end mb-3">
                <form method="GET" class="form-inline">
                    <select name="orden" onchange="this.form.submit()" class="form-select w-auto">
                        <option value="">Ordenar por...</option>
                        <option value="precio" {% if request.GET.orden == "precio" %}selected{% endif %}>Precio</option>
                        <option value="tiempo_estimado" {% if request.GET.orden == "tiempo_estimado" %}selected{% endif %}>Tiempo Estimado</option>
                    </select>
                    <input type="hidden" name="categoria" value="{{ request.GET.categoria }}">
                </form>
            </div>

            <div class="row">
                <!-- Si hay servicios disponibles, mostrar las tarjetas -->
                {% if page_obj %}
                {% for servicio in page_obj %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100 shadow-sm tarjeta">
                        <!-- Imagen del servicio -->
                        <img src="{{ servicio.foto.url }}" class="card-img-top" alt="Imagen de {{ servicio.nombre_ser }}" style="height: 200px; object-fit: cover;">

                        <div class="card-body">
                            <!-- Mostrar la categoría del servicio -->
                            <span class="badge bg-secondary mb-2 text-truncate" style="max-width: 100%;">
                                {{ servicio.categoria.nombre_cat }}
                            </span>
                            <h5 class="card-title">{{ servicio.nombre_ser }}</h5>
                            <p class="card-text">{{ servicio.desc_ser|truncatewords:20 }}</p>
                            <p><strong>Precio (Hora):</strong> ${{ servicio.precio | intcomma }}</p>
                            <p><strong>Tiempo estimado:</strong> {{ servicio.tiempo_estimado }} minutos</p>
                        </div>

                        <div class="card-footer text-center">
                            <button type="button" class="btn btn-info" 
                                    onclick="modal(`{% url 'solicitud_servicio' servicio.id %}`)">
                                <i class="bi bi-calendar2-day"></i> Solicitar Servicio
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <p>No se encontraron servicios en esta categoría.</p>
                {% endif %}
            </div>

            <!-- Paginación -->
            <div class="d-flex justify-content-center">
                <nav>
                    <ul class="pagination">
                        {% if page_obj.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        {% endif %}
                        
                        {% for num in page_obj.paginator.page_range %}
                        <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                            <a class="page-link" href="?page={{ num }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}">{{ num }}</a>
                        </li>
                        {% endfor %}
                        
                        {% if page_obj.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page_obj.next_page_number }}{% if request.GET.categoria %}&categoria={{ request.GET.categoria }}{% endif %}" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </nav>
            </div>
        </section>
    </div>
</div>
<div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modal" aria-hidden="true"></div>
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel"></div>

<section class="service_section layout_padding">
    <div class="container ">
      <div class="heading_container heading_center">
        <h2> Nuestros Servicios </h2>
      </div>
      <div class="row">
        <div class="col-sm-6 col-md-4 mx-auto">
          <div class="box ">
            <div class="img-box">
              <img src="{% static 'reparado/img/s1.png' %}" alt="" />
            </div>
            <div class="detail-box">
              <h5>
                Mantenimiento
              </h5>
              <p>
                Ofrecemos servicios de mantenimiento integral para mantener tu hogar en óptimas condiciones, con reparaciones preventivas y cuidado de espacios.
              </p>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 mx-auto">
          <div class="box ">
            <div class="img-box">
              <img src="{% static 'reparado/img/s2.png' %}" alt="" />
            </div>
            <div class="detail-box">
              <h5>
                Electricidad
              </h5>
              <p>
                Proporcionamos servicios eléctricos seguros y eficientes, desde instalaciones de iluminación hasta reparaciones de fallas eléctricas, garantizando un entorno seguro.
              </p>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-4 mx-auto">
          <div class="box ">
            <div class="img-box">
              <img src="{% static 'reparado/img/s3.png' %}" alt="" />
            </div>
            <div class="detail-box">
              <h5>
                Plomeria
              </h5>
              <p>
                Nuestro servicio de plomería abarca reparaciones de fugas, desatascos y la instalación de grifos, asegurando que tu sistema de agua funcione correctamente.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="btn-box">
        <a href="{% url 'servicios' %}">
          Ver Más
        </a>
      </div>
    </div>
  </section>
  <footer class="bg-dark text-white pt-5">
    <div class="container">
        <div class="row">
            <!-- Logo Section -->
            <div class="col-md-6 col-lg-3 text-center mb-4">
                <a href="/">
                    <img src="{% static 'reparado/img/Reparado1.jpg' %}" alt="Logo ReparaDo" class="img-fluid" style="max-height: 100px; border-radius: 150px;" />
                </a>
            </div>

            <!-- About Us Section -->
            <div class="col-md-6 col-lg-3 mb-4">
                <h5 class="text-uppercase mb-3">Sobre Nosotros</h5>
                <ul class="list-unstyled">
                    <li><a href="{% url 'nosotros' %}" class="text-white-50">Nosotros</a></li>
                    <li><a href="{% url 'nuestros_servicios' %}" class="text-white-50">Servicios</a></li>
                    <li><a href="{% url 'politica_privacidad' %}" class="text-white-50">Política de privacidad</a></li>
                </ul>
            </div>

            <!-- Help & Support Section -->
            <div class="col-md-6 col-lg-3 mb-4">
                <h5 class="text-uppercase mb-3">Ayuda y Soporte</h5>
                <ul class="list-unstyled">
                    <li><a href="{% url 'pregunta' %}" class="text-white-50">FAQs</a></li>
                    
                </ul>
            </div>

            <!-- Follow Us Section -->
            <div class="col-md-6 col-lg-3 mb-4">
                <h5 class="text-uppercase mb-3">Síguenos</h5>
                <p class="text-white-50">Mantente al día con nuestras ofertas y servicios</p>
                <div class="d-flex justify-content-center">
                    <a href="#" class="text-white-50 me-3" style="font-size: 24px;"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="text-white-50 me-3" style="font-size: 24px;"><i class="bi bi-twitter"></i></a>
                    <a href="#" class="text-white-50" style="font-size: 24px;"><i class="bi bi-facebook"></i></a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Bottom -->
    <div class="bg-secondary text-center py-3">
        <p class="mb-0">&copy; 2023 ReparaDo! - Todos los derechos reservados</p>
    </div>
</footer>




<script src="{% static 'reparado/js/jquery-3.7.1.min.js' %}"></script>
<script src="{% static 'reparado/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'reparado/js/DataTables/js/datatables.min.js' %}"></script>
<script src="{% static 'reparado/js/libreria.js' %}"></script>
<script src="{% static 'reparado/fullcalendar/dist/index.global.js' %}"></script>
<script>
    $(document).ready(function () {
        $("#dataTable").DataTable({
            language: {
                lengthMenu: "Mostrando _MENU_ registros por página",
                zeroRecords: "No se encontró nada - Lo sentimos",
                info: "Mostrando página _PAGE_ de _PAGES_",
                infoEmpty: "No hay registros existentes",
                infoFiltered: "(filtrado desde _MAX_ total records)",
                paginate: {
                    next: "Próximo",
                    previous: "Anterior",
                },
                search: "Buscar:",
            },
        });
    });
</script>

</html>