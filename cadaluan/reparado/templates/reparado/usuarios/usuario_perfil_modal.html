<div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasRightLabel">Detalles del Usuario</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
</div>

<div class="offcanvas-body d-flex flex-column justify-content-between">
    <!-- Contenido principal del usuario -->
    <div>
        <!-- Imagen del usuario centrada y con estilo de borde redondeado -->
        <div class="text-center mb-3">
            <img src="{{ usuario.foto.url }}" alt="Usuario" class="img-thumbnail rounded-circle shadow-sm" style="width: 120px; height: 120px; object-fit: cover;">
        </div>

        <!-- Nombre del usuario con rol -->
        <h4 class="text-center mb-1">{{ usuario.nombre }} {{ usuario.apellido }}</h4>
        <p class="text-center text-muted mb-3">{{ usuario.get_rol_display }}</p>

        <!-- Tabla con detalles del usuario -->
        <table class="table table-hover">
            <tbody>
                <tr>
                    <th scope="row" class="text-end">Fecha de Nacimiento:</th>
                    <td>{{ usuario.fecha_nacimiento|date:"d/m/Y" }}</td>
                </tr>
                <tr>
                    <th scope="row" class="text-end">Estado:</th>
                    <td>
                        {% if usuario.activo %}
                            <span class="badge bg-success">Activo</span>
                        {% else %}
                            <span class="badge bg-danger">Inactivo</span>
                            <p class="text-muted mb-0">Este usuario está actualmente inactivo.</p>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th scope="row" class="text-end">Correo:</th>
                    <td><a href="mailto:{{ usuario.email }}">{{ usuario.email }}</a></td>
                </tr>
                <tr>
                    <th scope="row" class="text-end">Dirección:</th>
                    <td>{{ usuario.direccion }}</td>
                </tr>
                <tr>
                    <th scope="row" class="text-end">Celular:</th>
                    <td>{{ usuario.telefono }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Botones de acción estilo GitHub, ubicados al final del modal -->
    <div class="mt-3">
        <hr>
        <div class="d-grid gap-2">
            <a onclick="modal(`{% url 'cambiar_clave' %}`)" class="btn btn-outline-secondary d-flex align-items-center justify-content-center">
                <i class="bi bi-lock me-2"></i>
                <span>Cambiar contraseña</span>
            </a>
            <a onclick="modal(`{% url 'usuarios_editar' usuario.id %}`)" class="btn btn-outline-secondary d-flex align-items-center justify-content-center">
                <i class="bi bi-pencil-square me-2"></i>
                <span>Editar Perfil</span>
            </a>
            <a href="{% url 'logout' %}" class="btn btn-outline-danger d-flex align-items-center justify-content-center">
                <i class="bi bi-box-arrow-right me-2"></i>
                <span>Cerrar Sesión</span>
            </a>
        </div>
    </div>
</div>
